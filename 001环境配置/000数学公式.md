# Jupyter Markdown 数学公式常用语法大全
Jupyter Markdown 基于 LaTeX 语法渲染数学公式，支持行内公式（嵌入文本）和块级公式（独立成行），以下是数据领域（含微积分、线性代数、概率统计）常用语法，按模块整理并附示例：

## 一、基础格式：行内公式 vs 块级公式
### 1. 行内公式（嵌入文本）
- 语法：用 `$ 公式 $` 包裹
- 示例：`$y = ax + b$` 渲染为 $y = ax + b$
- 用途：在文字中插入简短公式，如「假设数据集满足 $N(\mu, \sigma^2)$ 分布」

### 2. 块级公式（独立成行）
- 语法：用 `$$ 公式 $$` 包裹（自动居中）
- 示例：
  ```markdown
  $$
  f(x) = \frac{1}{\sqrt{2\pi}\sigma} e^{-\frac{(x-\mu)^2}{2\sigma^2}}
  $$
  ```
- 渲染效果：
  $$
  f(x) = \frac{1}{\sqrt{2\pi}\sigma} e^{-\frac{(x-\mu)^2}{2\sigma^2}}
  $$
- 用途：复杂公式或需要强调的公式（如定理、核心公式）

## 二、核心基础语法
### 1. 上下标
| 语法       | 示例                        | 渲染效果                | 说明                     |
| ---------- | --------------------------- | ----------------------- | ------------------------ |
| 上标：`^`  | `$x^2$`、`$a^{n+1}$`        | $x^2$、$a^{n+1}$        | 多字符上标需用 `{}` 包裹 |
| 下标：`_`  | `$x_i$`、`$a_{ij}$`         | $x_i$、$a_{ij}$         | 多字符下标需用 `{}` 包裹 |
| 混合上下标 | `$x_i^2$`、`$A_{ij}^{(k)}$` | $x_i^2$、$A_{ij}^{(k)}$ | 用于矩阵元素、迭代变量   |

### 2. 分式与根式
| 语法                      | 示例                                 | 渲染效果                         |
| ------------------------- | ------------------------------------ | -------------------------------- |
| 分式：`\frac{分子}{分母}` | `$\frac{1}{n}$`、`$\frac{a+b}{c-d}$` | $\frac{1}{n}$、$\frac{a+b}{c-d}$ |
| 根式：`\sqrt{被开方数}`   | `$\sqrt{2}$`、`$\sqrt{x^2 + y^2}$`   | $\sqrt{2}$、$\sqrt{x^2 + y^2}$   |
| n次根式：`\sqrt[n]{}`     | `$\sqrt[3]{x}$`、`$\sqrt[k]{a+b}$`   | $\sqrt[3]{x}$、$\sqrt[k]{a+b}$   |

### 3. 括号与分隔符
| 语法                         | 示例                                    | 渲染效果                            | 说明             |
| ---------------------------- | --------------------------------------- | ----------------------------------- | ---------------- |
| 小括号：`()`                 | `$(x + y)$`                             | $(x + y)$                           | 基础括号         |
| 中括号：`[]`                 | `$[a, b]$`                              | $[a, b]$                            | 区间表示常用     |
| 大括号：`\{ \}`（需转义）    | `$\{x \mid x > 0\}$`                    | $\{x \mid x > 0\}$                  | 集合表示常用     |
| 自适应括号：`\left( \right)` | `$\left( \frac{a}{b} \right)$`          | $\left( \frac{a}{b} \right)$        | 自动匹配公式高度 |
| 绝对值：`\| \|`              | `$\|x\|$`、`$\left\| \vec{a} \right\|$` | $\|x\|$、$\left\| \vec{a} \right\|$ | 向量模长常用     |

## 三、微积分常用语法
### 1. 极限
- 语法：`\lim_{变量 \to 条件} 表达式`
- 示例：
  ```markdown
  $\lim_{x \to 0} \frac{\sin x}{x} = 1$  
  $$
  \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^n = e
  $$
  ```
- 渲染效果：
  $\lim_{x \to 0} \frac{\sin x}{x} = 1$  
  $$
  \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^n = e
  $$

### 2. 导数与偏导数
| 语法                                  | 示例                                                         | 渲染效果                                                     |
| ------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 一阶导数：`\frac{d}{dx}`              | `$\frac{dy}{dx}$`、`$\frac{d}{dx}f(x)$`                      | $\frac{dy}{dx}$、$\frac{d}{dx}f(x)$                          |
| 高阶导数：`\frac{d^n}{dx^n}`          | `$\frac{d^2y}{dx^2}$`                                        | $\frac{d^2y}{dx^2}$                                          |
| 偏导数：`\frac{\partial}{\partial x}` | `$\frac{\partial f}{\partial x}$`、`$\frac{\partial^2 f}{\partial x \partial y}$` | $\frac{\partial f}{\partial x}$、$\frac{\partial^2 f}{\partial x \partial y}$ |
| 简写导数：`f'(x)`                     | `$f'(x)$`、`$f''(x)$`                                        | $f'(x)$、$f''(x)$                                            |

### 3. 积分
| 语法                                | 示例                                    | 渲染效果                              | 说明              |
| ----------------------------------- | --------------------------------------- | ------------------------------------- | ----------------- |
| 定积分：`\int_{下限}^{上限}`        | `$\int_{a}^{b} f(x) dx$`                | $\int_{a}^{b} f(x) dx$                | 积分变量后加 `dx` |
| 反常积分：`\int_{-\infty}^{\infty}` | `$\int_{-\infty}^{\infty} e^{-x^2} dx$` | $\int_{-\infty}^{\infty} e^{-x^2} dx$ | 无穷限积分        |
| 二重积分：`\iint`                   | `$\iint_D f(x,y) dxdy$`                 | $\iint_D f(x,y) dxdy$                 | 平面区域积分      |
| 三重积分：`\iiint`                  | `$\iiint_V f(x,y,z) dxdydz$`            | $\iiint_V f(x,y,z) dxdydz$            | 空间区域积分      |
| 曲线积分：`\oint`                   | `$\oint_C Pdx + Qdy$`                   | $\oint_C Pdx + Qdy$                   | 闭合曲线积分      |

### 4. 级数与求和
- 语法：`\sum_{下限}^{上限} 表达式`
- 示例：
  ```markdown
  $\sum_{i=1}^n x_i$（求和）  
  $\sum_{i=1}^n \sum_{j=1}^m a_{ij}$（双重求和）  
  $$
  \sum_{k=0}^{\infty} \frac{x^k}{k!} = e^x
  $$（泰勒级数）
  ```
- 渲染效果：
  $\sum_{i=1}^n x_i$  
  $\sum_{i=1}^n \sum_{j=1}^m a_{ij}$  
  $$
  \sum_{k=0}^{\infty} \frac{x^k}{k!} = e^x
  $$

## 四、线性代数常用语法
### 1. 向量
| 语法                                        | 示例                                                         | 渲染效果                                                    |
| ------------------------------------------- | ------------------------------------------------------------ | ----------------------------------------------------------- |
| 行向量：`\vec{}`                            | `$\vec{a} = (a_1, a_2, ..., a_n)$`                           | $\vec{a} = (a_1, a_2, ..., a_n)$                            |
| 列向量：`\begin{pmatrix} ... \end{pmatrix}` | `$\vec{b} = \begin{pmatrix} b_1 \\ b_2 \\ b_3 \end{pmatrix}$` | $\vec{b} = \begin{pmatrix} b_1 \\ b_2 \\ b_3 \end{pmatrix}$ |
| 点积：`\cdot`                               | `$\vec{a} \cdot \vec{b}$`                                    | $\vec{a} \cdot \vec{b}$                                     |
| 叉积：`\times`                              | `$\vec{a} \times \vec{b}$`                                   | $\vec{a} \times \vec{b}$                                    |

### 2. 矩阵
- 语法：`\begin{matrix/pmatrix/bmatrix} ... \end{matrix/pmatrix/bmatrix}`
  - `matrix`：无边框矩阵
  - `pmatrix`：小括号边框矩阵
  - `bmatrix`：中括号边框矩阵
- 示例：
  ```markdown
  $$
  A = \begin{pmatrix}
  a_{11} & a_{12} & \dots & a_{1n} \\
  a_{21} & a_{22} & \dots & a_{2n} \\
  \vdots & \vdots & \ddots & \vdots \\
  a_{m1} & a_{m2} & \dots & a_{mn}
  \end{pmatrix}
  $$
  ```
- 渲染效果：
  $$
  A = \begin{pmatrix}
  a_{11} & a_{12} & \dots & a_{1n} \\
  a_{21} & a_{22} & \dots & a_{2n} \\
  \vdots & \vdots & \ddots & \vdots \\
  a_{m1} & a_{m2} & \dots & a_{mn}
  \end{pmatrix}
  $$
- 特殊矩阵：
  ```markdown
  单位矩阵：$I_n = \begin{pmatrix} 1 & & \\ & \ddots & \\ & & 1 \end{pmatrix}$  
  零矩阵：$O_{m \times n} = \begin{pmatrix} 0 & \dots & 0 \\ \vdots & \ddots & \vdots \\ 0 & \dots & 0 \end{pmatrix}$
  ```
  渲染：$I_n = \begin{pmatrix} 1 & & \\ & \ddots & \\ & & 1 \end{pmatrix}$、$O_{m \times n} = \begin{pmatrix} 0 & \dots & 0 \\ \vdots & \ddots & \vdots \\ 0 & \dots & 0 \end{pmatrix}$

### 3. 矩阵运算
| 语法                      | 示例                   | 渲染效果           |
| ------------------------- | ---------------------- | ------------------ |
| 矩阵乘法：`\times`        | `$A \times B = C$`     | $A \times B = C$   |
| 转置：`^T`                | `$A^T$`                | $A^T$              |
| 逆矩阵：`^{-1}`           | `$A^{-1}$`             | $A^{-1}$           |
| 行列式：`\det` 或 `\| \|` | `$\det(A)$`、`$\|A\|$` | $\det(A)$、$\|A\|$ |

## 五、概率统计常用语法
### 1. 概率与分布
| 语法                         | 示例                            | 渲染效果                      | 说明                    |
| ---------------------------- | ------------------------------- | ----------------------------- | ----------------------- |
| 概率：`P()`                  | `$P(X = k)$`、`$P(A \cap B)$`   | $P(X = k)$、$P(A \cap B)$     | 交集用 `\cap`           |
| 条件概率：`P(\mid)`          | `$P(A \mid B)$`                 | $P(A \mid B)$                 | 竖线用 `\mid`（需转义） |
| 期望：`E[]`                  | `$E[X]$`、`$E[X^2]$`            | $E[X]$、$E[X^2]$              |                         |
| 方差：`Var()`                | `$Var(X) = E[X^2] - (E[X])^2$`  | $Var(X) = E[X^2] - (E[X])^2$  |                         |
| 协方差：`Cov()`              | `$Cov(X,Y) = E[XY] - E[X]E[Y]$` | $Cov(X,Y) = E[XY] - E[X]E[Y]$ |                         |
| 正态分布：`N(\mu, \sigma^2)` | `$X \sim N(\mu, \sigma^2)$`     | $X \sim N(\mu, \sigma^2)$     | 分布符号用 `\sim`       |
| 二项分布：`Binomial(n,p)`    | `$X \sim Binomial(n,p)$`        | $X \sim Binomial(n,p)$        |                         |

### 2. 统计量
| 语法                | 示例                                                         | 渲染效果                                                    |
| ------------------- | ------------------------------------------------------------ | ----------------------------------------------------------- |
| 均值：`\bar{x}`     | `$\bar{x} = \frac{1}{n}\sum_{i=1}^n x_i$`                    | $\bar{x} = \frac{1}{n}\sum_{i=1}^n x_i$                     |
| 中位数：`\tilde{x}` | `$\tilde{x}$`                                                | $\tilde{x}$                                                 |
| 标准差：`\sigma`    | `$\sigma = \sqrt{\frac{1}{n}\sum_{i=1}^n (x_i - \bar{x})^2}$` | $\sigma = \sqrt{\frac{1}{n}\sum_{i=1}^n (x_i - \bar{x})^2}$ |

## 六、常用符号与运算符
### 1. 希腊字母（数据建模常用）
| 小写语法  | 渲染      | 大写语法  | 渲染      | 用途示例           |
| --------- | --------- | --------- | --------- | ------------------ |
| `\alpha`  | $\alpha$  | `\Alpha`  | $\Alpha$  | 显著性水平         |
| `\beta`   | $\beta$   | `\Beta`   | $\Beta$   | 回归系数           |
| `\mu`     | $\mu$     | `\Mu`     | $\Mu$     | 均值               |
| `\sigma`  | $\sigma$  | `\Sigma`  | $\Sigma$  | 标准差/求和符号    |
| `\theta`  | $\theta$  | `\Theta`  | $\Theta$  | 参数符号           |
| `\lambda` | $\lambda$ | `\Lambda` | $\Lambda$ | 正则化参数、特征值 |
| `\pi`     | $\pi$     | `\Pi`     | $\Pi$     | 圆周率、乘积符号   |

### 2. 常用运算符
| 语法      | 渲染      | 用途                     |
| --------- | --------- | ------------------------ |
| `\pm`     | $\pm$     | 加减                     |
| `\times`  | $\times$  | 乘法（矩阵/数值）        |
| `\div`    | $\div$    | 除法                     |
| `\leq`    | $\leq$    | 小于等于                 |
| `\geq`    | $\geq$    | 大于等于                 |
| `\neq`    | $\neq$    | 不等于                   |
| `\approx` | $\approx$ | 近似等于                 |
| `\equiv`  | $\equiv$  | 恒等于                   |
| `\in`     | $\in$     | 属于（集合）             |
| `\notin`  | $\notin$  | 不属于（集合）           |
| `\subset` | $\subset$ | 子集                     |
| `\cup`    | $\cup$    | 集合并集                 |
| `\cap`    | $\cap$    | 集合交集                 |
| `\infty`  | $\infty$  | 无穷大                   |
| `\nabla`  | $\nabla$  | 梯度算子（机器学习常用） |

## 七、进阶技巧
### 1. 公式编号
- 语法：`$$ 公式 \tag{编号} $$`
- 示例：
  ```markdown
  $$
  y = w_0 + w_1x_1 + w_2x_2 + \dots + w_nx_n + \epsilon \tag{1}
  $$
  ```
- 渲染效果：
  $$
  y = w_0 + w_1x_1 + w_2x_2 + \dots + w_nx_n + \epsilon \tag{1}
  $$
- 用途：论文/报告中引用公式（如「见公式 (1)」）

### 2. 分段函数
- 语法：`\begin{cases} ... \\ ... \end{cases}`
- 示例：
  ```markdown
  $$
  f(x) = \begin{cases}
  x & x \geq 0 \\
  -x & x < 0
  \end{cases}
  $$
  ```
- 渲染效果：
  $$
  f(x) = \begin{cases}
  x & x \geq 0 \\
  -x & x < 0
  \end{cases}
  $$

### 3. 公式换行与对齐
- 语法：`\begin{align} ... \end{align}`（用 `&` 标记对齐位置）
- 示例：
  ```markdown
  $$
  \begin{align}
  f(x) &= x^2 + 2x + 1 \\
  &= (x + 1)^2 \\
  g(x) &= \sin x + \cos x
  \end{align}
  $$
  ```
- 渲染效果：
  $$
  \begin{align}
  f(x) &= x^2 + 2x + 1 \\
  &= (x + 1)^2 \\
  g(x) &= \sin x + \cos x
  \end{align}
  $$

## 八、常用组合示例（数据领域高频）
1. 线性回归方程：
   ```markdown
   $$
   \hat{y} = \hat{w}_0 + \hat{w}_1x_1 + \hat{w}_2x_2 + \dots + \hat{w}_p x_p
   $$
   ```
   渲染：
   $$
   \hat{y} = \hat{w}_0 + \hat{w}_1x_1 + \hat{w}_2x_2 + \dots + \hat{w}_p x_p
   $$

2. 逻辑回归 Sigmoid 函数：
   ```markdown
   $$
   \sigma(z) = \frac{1}{1 + e^{-z}}, \quad z = w^T x + b
   $$
   ```
   渲染：
   $$
   \sigma(z) = \frac{1}{1 + e^{-z}}, \quad z = w^T x + b
   $$

3. 梯度下降更新公式：
   ```markdown
   $$
   w_{t+1} = w_t - \eta \nabla L(w_t)
   $$
   ```
   渲染：
   $$
   w_{t+1} = w_t - \eta \nabla L(w_t)
   $$

## 注意事项
1. 特殊符号（如 `{}`、`\`、`|`）需用反斜杠 `\` 转义；
2. 多字符的上下标、分子分母需用 `{}` 包裹，否则仅对紧邻字符生效（如 `x^1+2` 会渲染为 $x^1+2$，而非 $x^{1+2}$）；
3. Jupyter 中公式渲染依赖 MathJax，若未正常显示，可刷新页面或检查语法是否遗漏 `$` 或 `{}`；
4. 复杂公式建议分行编写（块级公式），提高可读性。

如需更冷门的语法（如傅里叶变换、矩阵特征分解），可随时补充说明场景！